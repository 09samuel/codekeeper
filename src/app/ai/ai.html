<div class="flex flex-col h-full gap-4">
  <!-- Header -->
  <div class="flex justify-between items-center">
    <div>
      <h3 class="text-xs text-[#c084fc] uppercase font-medium">AI Coding Assistant</h3>
    </div>
    <button 
      (click)="clearChat()"
      class="px-3 py-1 text-xs text-[#858585] hover:text-[#c084fc] transition-colors">
      Clear
    </button>
  </div>


  <!-- Prompt Textarea -->
  <div class="flex flex-col flex-1">
    <label class="text-white text-xs font-medium mb-2">Your Question</label>
    <textarea 
      [(ngModel)]="prompt"
      placeholder="Ask anything... (e.g., 'Explain this code', 'How do I fix this error?', 'Generate a function for...')"
      class="custom-scrollbar flex-1 w-full p-3 bg-[#0d0d0d] text-white border border-[#2d2d30] rounded-md 
             focus:outline-none focus:border-[#c084fc] hover:border-[#3e3e42] resize-none font-mono text-xs transition-colors"
      [disabled]="isLoading()"
      (keydown.ctrl.enter)="sendPrompt()">
    </textarea>
  </div>


  <!-- Send Button -->
  <button 
    (click)="sendPrompt()"
    [disabled]="!prompt().trim() || isLoading()"
    class="px-4 py-2 bg-[#c084fc] text-white rounded-md hover:bg-[#b77aed] 
           disabled:bg-[#2d2d30] disabled:text-[#6e6e6e] disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2 text-xs font-medium">
    @if (isLoading()) {
      <span class="animate-spin">‚ü≥</span>
    }
    <span>{{ isLoading() ? 'Generating...' : 'Send Prompt' }}</span>
  </button>


  <!-- Response Textarea -->
  <div class="flex flex-col flex-1">
    <label class="text-white text-xs font-medium mb-2">AI Response</label>
    <textarea 
      [value]="response()"
      readonly
      placeholder="AI response will appear here..."
      class="custom-scrollbar flex-1 w-full p-3 bg-[#0d0d0d] text-[#d4d4d4] border border-[#2d2d30] rounded-md 
             resize-none font-mono text-xs whitespace-pre-wrap">
    </textarea>
  </div>
</div>
