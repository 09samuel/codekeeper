<div class="flex flex-col h-full gap-4">
  <!-- Header -->
  <div class="flex justify-between items-center">
    <div>
      <h3 class="text-xs font-medium text-[#c084fc] uppercase">Code Runner</h3>
      <p class="text-[#858585] text-xs">Run code from the editor</p>
    </div>
    <button 
      (click)="clearOutput()"
      class="px-3 py-1 text-xs text-[#858585] hover:text-[#c084fc] transition-colors">
      Clear
    </button>
  </div>


  <!-- Language Selector -->
  <div class="flex gap-2 items-center custom-scrollbar">
    <label class="text-white text-xs font-medium">Language:</label>
    <select 
      [value]="selectedLanguage() + ':' + selectedVersion()"
      (change)="onLanguageChange($event)"
      class="max-w-[180px] p-1.5 bg-[#0d0d0d] text-xs text-white border border-[#2d2d30] rounded-md 
            focus:outline-none focus:border-[#c084fc] hover:border-[#3e3e42] transition-colors">
      @for (option of languageOptions(); track option.language + option.version) {
        <option [value]="option.language + ':' + option.version">
          {{ option.displayName }}
        </option>
      }
    </select>
  </div>



  <!-- Standard Input -->
  <div class="flex flex-col">
    <label class="text-white text-xs font-medium mb-2">Input</label>
    <textarea 
      [value]="stdin()"
      (input)="onStdinChange($event)"
      placeholder="Enter input for your program (optional)..."
      class="w-full h-24 p-3 bg-[#0d0d0d] text-white border border-[#2d2d30] rounded-md 
             focus:outline-none focus:border-[#c084fc] hover:border-[#3e3e42] resize-none font-mono text-xs transition-colors"
      [disabled]="isRunning()">
    </textarea>
  </div>


  <!-- Run Button -->
  <button 
    (click)="runCode()"
    [disabled]="isRunning()"
    class="px-6 py-3 bg-[#c084fc] text-white rounded-md hover:bg-[#b77aed] 
           disabled:bg-[#2d2d30] disabled:text-[#6e6e6e] disabled:cursor-not-allowed transition-colors 
           flex items-center justify-center gap-2 font-medium text-xs">
    @if (isRunning()) {
      <span class="animate-spin">⟳</span>
    } @else {
      <span>▶</span>
    }
    <span>{{ isRunning() ? 'Running...' : 'Run Code' }}</span>
  </button>


  <!-- Output -->
  <div class="flex flex-col flex-1">
    <label class="text-white text-xs font-medium mb-2">Output</label>
    <textarea 
      [value]="output()"
      readonly
      placeholder="Output will appear here..."
      class="flex-1 w-full p-3 bg-[#0d0d0d] text-[#d4d4d4] border border-[#2d2d30] rounded-md 
             resize-none font-mono text-xs whitespace-pre-wrap">
    </textarea>
  </div>
</div>